---
title: "Selected Code"
---

I'm deeply excited to be able to share a few examples of my publicly-available work for reference of my coding ability / style. I typically have a few ongoing projects in private {{< fa brands github >}} GitHub repositories (until their publication) but I try to keep the majority of my work transparent and accessible whenever possible.

## Flexible Data Wrangling

<img src="images/lno_square.png" width="15%" align="right"/>

In my work as a data scientist at the [Long Term Ecological Research (LTER) Network Office](https://lternet.edu/) I supported various working groups in addressing synthesis science questions. Among these was a group concerned with the effects of soil phosphorus on carbon and nitrogen (see their [full project description here](https://lternet.edu/working-groups/soil-p-control-of-c-and-n/)). This group needed a workflow that would allow them to take earlier datasets in a range of formats related to this question and generate a single, analysis-ready table.

To meet this need, I developed a flexible workflow that used a living 'data key' GoogleSheet to synonymize each datasets' various columns into a harmonized dataframe (see [the R script on {{< fa brands github >}} GitHub here](https://github.com/lter/lter-sparc-soil-p/blob/main/soil_p_wrangle.R)). This approach allowed the working group to integrate new data by updating a file in a familiar interface (GoogleSheets) while still ensuring their actual workflow was reproducibly documented in a scripted format.

## Scientific Manuscript Code

<img src="images/consulting_logos/univ_georgia_logo.png" width="25%" align="right"/>

I collaborated with a doctoral student at University of Georiga (Roy Kucuk) on his project on the microbial communities found in the gut of the green june beetle (_Cotinis nitida_). Roy had genetic data and wanted to test hypotheses about community composition and diversity differences in different regions of the gut, across beetle lifestages, and between beetle sexes. The paper was published in Frontiers in Microbiology (an open access journal) [here](https://www.frontiersin.org/articles/10.3389/fmicb.2023.1185661/full).

In the {{< fa brands github >}} [GitHub repository](https://github.com/njlyon0/collab_kucuk-cotinis) for this project I:

- Wrangled the data and calculated the needed diversity metrics at various taxonomic levels
- Identified and performed the appropriate statistical tests to address Roy's hypotheses
- Created publication-quality figures of the primary results and generated exploratory visualizations
- Revized all scripts iteratively per feedback from Roy and his other collaborators

## Spatial Data

<img src="images/lno_square.png" width="15%" align="right"/>

In my work at the LTER Network Office I also worked with a working group exploring the drivers of riverine silica quantities across the globe (see the [full project description here](https://lternet.edu/working-groups/from-poles-to-tropics-a-multi-biome-synthesis-investigating-the-controls-on-river-si-exports/)). As part of one of their questions they needed to extract various geological, biological, and climatic variables of interest from within the watershed catchments of the several hundred rivers at which they had silica and river flow information.

In the {{< fa brands github >}} [GitHub repository](https://github.com/lter/lterwg-silica-spatial) for this task I:

- Harmonized watershed catchment polgyons into a standard format
- Extracted spatial data (e.g., GeoTIFF, netCDF, etc.) from within those polygons
- Summarized extracted data at various spatial and temporal levels
- Combined summarized data into a single, analysis-ready table that was interoperable with the data files elsewhere in their project










## LTER Working Group - Silica Exports

<img src="images/lno_square.png" width="20%" align="right"/>

One LTER synthesis working group (see the [LTER Network Office](https://lternet.edu/) website for more details) I had a particularly significant role in helping was the Silica Exports group. This group was particularly interested in the drivers of and variation in export of silica from rivers around the world. Riverine silica export is significant--in part--because diatoms in the ocean are silica limited. Diatoms are important marine photosynthesizers and their populations can have a direct impact on carbon sequestration and, indirectly, climate change.

This working group had annual data on silica concentrations from hundreds of rivers around the globe. They had created plots of these data showing the relationship between silica (y) and time (x) and wanted to (1) identify significant changes in the slope in each line, (2) "break" the line at those places, and (3) fit separate linear models to each section of the line to be able to assess rates of change. After a few initial conversations so that I could better understand their needs I set to work building a workflow that could meet their needs. I periodically met with the principal investigators of this team to discuss my progress and ask for clarification at points where a judgement call needed to be made by a subject matter expert.

The products of that work are housed in this {{< fa brands github >}} [GitHub repository](https://github.com/njlyon0/collab_silica-cryosphere) and make heavy use of the `HERON` R package I am developing to support this task and a few related repositories created for the same working group.

## Lyon MS Thesis - Native Bee Restoration Ecology

<img src="images/isu_logo.png" width="22%" align="right"/>

I earned my Master of Science at Iowa State University in the [Ecology and Evolutionary Biology](https://www.eeb.iastate.edu/) program and the focus of my thesis was restoration community ecology of Midwestern pollinators and nectar-producing plants. One facet of this work was a side question I pursued on the response of native bees to combinations of annual prescribed fire and cattle grazing.

Native bees don't form hives in the way that European honey bees do and many of them make solitary nests in stems or by digging small (and very cute!) holes in patches of bare ground. Fire and cattle grazing change the availability both of bare ground and dead stems and these management methods also altar the composition of the floral community. I hypothesized that the changes to the bees' food sources and habitat would change the bee community and set out to test the extent to which this was the case.

As is sometimes the case with ecology research, I had a wonderful time collecting the data but they were so zero-inflated (i.e., there were so many times when I didn't find *any* bees in my traps) that the data weren't really analyzable. That said I made a {{< fa brands github >}} [GitHub repository](https://github.com/njlyon0/lyon-ms-thesis_bee-project) for my exploration and initial quality control of the data and made it public.

I also shared the data on the Environmental Data Initiative's Data Portal in case someone else could find a use for them. I've linked that data package [here](https://portal.edirepository.org/nis/mapbrowse?scope=edi&identifier=1210&revision=1).
